(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{438:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"pcdnf复现"}},[t._v("PCDNF复现")]),t._v(" "),a("p",[t._v("安装依赖：\n参考官方的README.md安装依赖。")]),t._v(" "),a("h3",{attrs:{id:"准备数据集"}},[t._v("准备数据集")]),t._v(" "),a("ul",[a("li",[t._v("下载数据集，解压到指定目录。")]),t._v(" "),a("li",[t._v("pointfilter数据集似乎已经失效,本地找找")])]),t._v(" "),a("p",[t._v("本次使用的dataset是mpeg")]),t._v(" "),a("ol",[a("li",[t._v("建立文件 trainset/train.txt\ntrain.txt 格式如下：(参考dataset923.py=>class PointcloudPatchDataset(data.Dataset):\n)\n"),a("img",{attrs:{src:"images/image-pcdnf.png",alt:"alt text"}}),t._v(" "),a("img",{attrs:{src:"images/image-pcdnf1.png",alt:"alt text"}})])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("gt_file_path0_0 # 每六个一个循环\nnoise0_1\nnoise0_2\nnoise0_3 \nnoise0_4\nnoise0_5\ngt_file_path0_1\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("1.1 建立train.txt的内容\n使用的文件: "),a("em",[a("strong",[t._v("util-self/addNoise.sh => addNoise-pcdnf.py")])]),t._v("\n直接把数据送到trainset文件夹下, 然后在1.2中把数据路径写入train.txt")]),t._v(" "),a("ul",[a("li",[t._v("ends with .npy的文件")]),t._v(" "),a("li",[t._v("那么噪声有5种:目前打算就按照pcdnf的(0.0025 0.005 0.01 0.015 0.025)")])]),t._v(" "),a("blockquote",[a("p",[t._v("因为这个噪声还挺小的 !! pcdnf选择的这个效果测试可能不错")])]),t._v(" "),a("p",[t._v("1.2 划分dataset => trainset/train.txt\n使用的文件: "),a("em",[a("strong",[t._v("PCDNF/selfutil/make_traintxt.py")])])]),t._v(" "),a("blockquote",[a("p",[t._v("读取数据: dataset923.py: opt.root + shapename里面的each line.")])]),t._v(" "),a("p",[t._v("训练集:  (longdress,loot,redandblack)\n"),t._v("\n验证集:  (soldier)")]),t._v(" "),a("blockquote",[a("p",[t._v('目前看来似乎没有test的部分?只有testN.py有evaluate的部分.. dataset923.py中有"evaluation"')])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("python make_traintxt.py\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[a("strong",[t._v("计算normal")])])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("python PCDNF"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("selfutil"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("open3d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("normal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("输入Nx3的npy文件或者xyz文件,输出Nx6的npy文件,后3维为normal")]),t._v(" "),a("p",[t._v("normal的计算使用了open3d.geometry.PointCloud.estimate_normals()方法,直接使用默认参数测试了效果可以,论文中是说使用的是PCA方法,但是没有给具体的代码,open3d的estimate_normals()方法看了实现是svd计算特征值的,似乎可以.")]),t._v(" "),a("p",[t._v("得到了trainset/train.txt和trainset下的*.npy文件(Nx6), 准备训练.")]),t._v(" "),a("h3",{attrs:{id:"训练"}},[t._v("训练")]),t._v(" "),a("p",[t._v("之后可以参考")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("python train_Network1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"介绍"}},[t._v("介绍")])])}),[],!1,null,null,null);a.default=e.exports}}]);